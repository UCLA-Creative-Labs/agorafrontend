{"version":3,"file":"linkstate.umd.js","sources":["../node_modules/dlv/index.js","../src/index.js"],"sourcesContent":["export default function dlv(obj, key, def, p) {\n\tp = 0;\n\tkey = key.split ? key.split('.') : key;\n\twhile (obj && p<key.length) obj = obj[key[p++]];\n\treturn obj===undefined ? def : obj;\n}","import delve from 'dlv';\n\n/** Create an Event handler function that sets a given state property.\n *\t@param {Component} component\tThe component whose state should be updated\n *\t@param {string} key\t\t\t\tA dot-notated key path to update in the component's state\n *\t@param {string} eventPath\t\tA dot-notated key path to the value that should be retrieved from the Event or component\n *\t@returns {function} linkedStateHandler\n */\nexport default function linkState(component, key, eventPath) {\n\tlet path = key.split('.'),\n\t\tcache = component.__lsc || (component.__lsc = {});\n\n\treturn cache[key+eventPath] || (cache[key+eventPath] = function(e) {\n\t\tlet t = e && e.target || this,\n\t\t\tstate = {},\n\t\t\tobj = state,\n\t\t\tv = typeof eventPath==='string' ? delve(e, eventPath) : t.nodeName ? (t.type.match(/^che|rad/) ? t.checked : t.value) : e,\n\t\t\ti = 0;\n\t\tfor ( ; i<path.length-1; i++) {\n\t\t\tobj = obj[path[i]] || (obj[path[i]] = !i && component.state[path[i]] || {});\n\t\t}\n\t\tobj[path[i]] = v;\n\t\tcomponent.setState(state);\n\t});\n}\n"],"names":["dlv","obj","key","def","p","split","length","undefined","linkState","component","eventPath","let","path","cache","__lsc","e","t","target","this","state","v","delve","nodeName","type","match","checked","value","i","setState"],"mappings":"wKAAe,QAASA,GAAIC,EAAKC,EAAKC,EAAKC,GAG1C,IAFAA,EAAI,EACJF,EAAMA,EAAIG,MAAQH,EAAIG,MAAM,KAAOH,EAC5BD,GAAOG,EAAEF,EAAII,QAAQL,EAAMA,EAAIC,EAAIE,KAC1C,YAAaG,KAANN,EAAkBE,EAAMF,ECIhC,QAAwBO,GAAUC,EAAWP,EAAKQ,GACjDC,GAAIC,GAAOV,EAAIG,MAAM,KACpBQ,EAAQJ,EAAUK,QAAUL,EAAUK,SAEvC,OAAOD,GAAMX,EAAIQ,KAAeG,EAAMX,EAAIQ,GAAa,SAASK,GAM/D,IALAJ,GAAIK,GAAID,GAAKA,EAAEE,QAAUC,KACxBC,KACAlB,EAAMkB,EACNC,EAAuB,gBAAZV,GAAuBW,EAAMN,EAAGL,GAAaM,EAAEM,SAAYN,EAAEO,KAAKC,MAAM,YAAcR,EAAES,QAAUT,EAAEU,MAASX,EACxHY,EAAI,EACGA,EAAEf,EAAKN,OAAO,EAAGqB,IACxB1B,EAAMA,EAAIW,EAAKe,MAAQ1B,EAAIW,EAAKe,KAAOA,GAAKlB,EAAUU,MAAMP,EAAKe,QAElE1B,GAAIW,EAAKe,IAAMP,EACfX,EAAUmB,SAAST"}